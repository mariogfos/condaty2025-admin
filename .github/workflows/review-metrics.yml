# .github/workflows/review-metrics.yml
name: Code Review Metrics
on:
  pull_request_review:
    types: [submitted]

jobs:
  collect-metrics:
    runs-on: ubuntu-latest
    steps:
      - name: Extract Review Data
        id: review-data
        run: |
          # Script simple para mÃ©tricas bÃ¡sicas
          echo "REVIEWER=${{ github.event.review.user.login }}" >> $GITHUB_ENV
          echo "PR_NUMBER=${{ github.event.pull_request.number }}" >> $GITHUB_ENV
      
      - name: Post Summary Comment
        uses: actions/github-script@v6
        with:
          script: |
            // Resumen automÃ¡tico en comentario
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `ðŸ“Š **MÃ©tricas automÃ¡ticas de review**\n\nâœ… Issues reportados: ${{ github.event.review.state }}\nðŸ‘¤ Revisor: @${{ github.event.review.user.login }}\nðŸ“… Fecha: ${new Date().toLocaleDateString()}`
            })